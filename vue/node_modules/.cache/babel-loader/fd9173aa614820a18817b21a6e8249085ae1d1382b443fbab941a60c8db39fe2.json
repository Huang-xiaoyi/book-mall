{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"FrontLayout\",\n  data() {\n    return {\n      top: '',\n      user: JSON.parse(localStorage.getItem(\"userInfo\") || '{}')\n    };\n  },\n  mounted() {},\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('userInfo') || '{}'); // 重新获取下用户的最新信息\n    },\n    toCenter() {\n      this.$router.push('/front/center');\n    },\n    // 退出登录\n    logout() {\n      localStorage.removeItem(\"userInfo\");\n      this.$router.push(\"/login\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","top","user","JSON","parse","localStorage","getItem","mounted","methods","updateUser","toCenter","$router","push","logout","removeItem"],"sources":["src/views/Front.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!--头部-->\r\n    <div class=\"header\">\r\n      <div class=\"header-title\">\r\n        <img src=\"@/assets/img/logo.png\" class=\"logo\">\r\n        <a class=\"name\" href=\"/front/index\">网上书城</a>\r\n      </div>\r\n\r\n        <div class=\"header-nav\">\r\n          <el-menu :default-active=\"$route.path\" mode=\"horizontal\" router>\r\n\t\t\t\t\t\t<el-menu-item index=\"/front/index\" class=\"el-menu-nav\" >首页</el-menu-item>\r\n\t\t\t\t\t\t<el-menu-item index=\"/front/notice\" class=\"el-menu-nav\">系统公告</el-menu-item>\r\n          </el-menu>\r\n        </div>\r\n      <div class=\"header-info\">\r\n        <div v-if=\"!user.username\">\r\n          <el-button @click=\"$router.push('/login')\">登录</el-button>\r\n          <el-button @click=\"$router.push('/register')\">注册</el-button>\r\n        </div>\r\n        <div v-else>\r\n          <el-dropdown size=\"medium\">\r\n            <div class=\"header-dropdown\">\r\n              <img :src=\"user.avatar\" alt=\"\">\r\n              <div class=\"header-div\">\r\n                <span>{{ user.name }}</span><i class=\"el-icon-arrow-down\" ></i>\r\n              </div>\r\n            </div>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item @click.native=\"toCenter\">个人中心</el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <div @click=\"logout\">退出</div>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!--主体-->\r\n    <div class=\"main-body\">\r\n      <router-view ref=\"child\" @update:user=\"updateUser\" />\r\n    </div>\r\n    <div class=\"footer\">\r\n\r\n      <div class=\"footer-info\">\r\n        <div class=\"footer-contact\">\r\n          <el-row  :gutter=\"20\" class=\"row\">\r\n            <el-col :span=\"8\"  class=\"col\" style=\" \">\r\n              <p class=\"title\">网上书城</p>\r\n              <p class=\"text\">浙ICP备0123456号-1</p>\r\n              <p class=\"text\">copyright © All rights reserved </p>\r\n            </el-col>\r\n            <el-col :span=\"8\" >\r\n              <p><i class=\"el-icon-user\"></i> <span class=\"text\">周一至周五9:00-18:00</span></p>\r\n              <p><i class=\"el-icon-phone\"></i> <span class=\"text\">8742651</span></p>\r\n              <p><i class=\"el-icon-location-outline\"></i> <span class=\"text\">杭州市番茄大街3号</span></p>\r\n            </el-col>\r\n            <el-col :span=\"8\" >\r\n              <p class=\"add\">加入我们提供</p>\r\n              <p class=\"text\">店面设计</p>\r\n              <p class=\"text\">开业指导</p>\r\n              <p class=\"text\">日常运营指导</p>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"FrontLayout\",\r\n\r\n  data () {\r\n    return {\r\n      top: '',\r\n\r\n      user: JSON.parse(localStorage.getItem(\"userInfo\") || '{}'),\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n\r\n    updateUser() {\r\n      this.user = JSON.parse(localStorage.getItem('userInfo') || '{}')   // 重新获取下用户的最新信息\r\n    },\r\n    toCenter() {\r\n        this.$router.push('/front/center')\r\n    },\r\n\r\n    // 退出登录\r\n    logout() {\r\n      localStorage.removeItem(\"userInfo\");\r\n      this.$router.push(\"/login\");\r\n    },\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n@import \"@/assets/css/front.css\";\r\n</style>"],"mappings":";AA0EA;EACAA,IAAA;EAEAC,KAAA;IACA;MACAC,GAAA;MAEAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EAEAC,QAAA,GAEA;EACAC,OAAA;IAEAC,WAAA;MACA,KAAAP,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;IACAI,SAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;IAEA;IACAC,OAAA;MACAR,YAAA,CAAAS,UAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}