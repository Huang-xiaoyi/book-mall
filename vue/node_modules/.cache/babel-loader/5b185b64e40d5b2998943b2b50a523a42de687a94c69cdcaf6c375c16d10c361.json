{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Aside from \"@/components/Aside\";\nexport default {\n  components: {\n    Aside\n  },\n  name: \"Manager\",\n  data() {\n    return {\n      user: JSON.parse(localStorage.getItem('userInfo') || '{}')\n    };\n  },\n  created() {\n    if (!this.user.id) {\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('userInfo') || '{}'); // 重新获取下用户的最新信息\n    },\n    toPersonInfo() {\n      this.$router.push('/manage/personInfo');\n    },\n    toUpdatePassword() {\n      this.$router.push('/manage/password');\n    },\n    logout() {\n      localStorage.removeItem('userInfo');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["Aside","components","name","data","user","JSON","parse","localStorage","getItem","created","id","$router","push","methods","updateUser","toPersonInfo","toUpdatePassword","logout","removeItem"],"sources":["src/views/Manage.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n\n    <el-container class=\"container\" >\n      <el-aside  class=\"aside\" width=\"200px\" >\n        <Aside ></Aside>\n      </el-aside>\n      <el-container>\n\n\n\n        <el-header>\n          <div class=\"header\" >\n            <div style=\"flex: 1\">\n              <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n                <el-breadcrumb-item :to=\"{ path: '/manage/home' }\">首页</el-breadcrumb-item>\n                <el-breadcrumb-item :to=\"{ path: $route.path }\">{{ $route.meta.name }}</el-breadcrumb-item>\n              </el-breadcrumb>\n            </div>\n            <img :src=\"user.avatar\" alt=\"\" class=\"header-avatar\" >\n            <el-dropdown style=\"cursor: pointer\"  size=\"medium\">\n              <span class=\"header-name\">{{user.name}}<i class=\"el-icon-arrow-down\" ></i></span>\n\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item @click.native=\"toPersonInfo\" >个人信息</el-dropdown-item>\n                <el-dropdown-item @click.native=\"toUpdatePassword\" >修改密码</el-dropdown-item>\n                <el-dropdown-item ><span @click=\"logout()\">退出</span></el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </div>\n        </el-header>\n\n        <el-main>\n          <!-- main中的按钮-->\n          <router-view @update:user=\"updateUser\" />\n\n\n\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script>\n\nimport Aside from \"@/components/Aside\"\nexport default {\n  components: { Aside},\n  name: \"Manager\",\n  data() {\n\n    return {\n      user: JSON.parse(localStorage.getItem('userInfo') || '{}'),\n    }\n  },\n  created() {\n    if (!this.user.id) {\n      this.$router.push('/login')\n    }\n  },\n  methods: {\n    updateUser() {\n      this.user = JSON.parse(localStorage.getItem('userInfo') || '{}')   // 重新获取下用户的最新信息\n    },\n    toPersonInfo() {\n      this.$router.push('/manage/personInfo')\n    },\n    toUpdatePassword() {\n      this.$router.push('/manage/password')\n    },\n    logout() {\n      localStorage.removeItem('userInfo')\n      this.$router.push('/login')\n    }\n  }\n}\n\n</script>\n<style scoped>\n\n@import \"@/assets/css/manage.css\";\n.el-menu{\n  border-right: none !important;\n}\n\n</style>\n\n"],"mappings":";AA8CA,OAAAA,KAAA;AACA;EACAC,UAAA;IAAAD;EAAA;EACAE,IAAA;EACAC,KAAA;IAEA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,UAAAL,IAAA,CAAAM,EAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,KAAAV,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;IACA;IACAO,aAAA;MACA,KAAAJ,OAAA,CAAAC,IAAA;IACA;IACAI,iBAAA;MACA,KAAAL,OAAA,CAAAC,IAAA;IACA;IACAK,OAAA;MACAV,YAAA,CAAAW,UAAA;MACA,KAAAP,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}