"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[559],{9559:function(e,s,t){t.r(s),t.d(s,{default:function(){return m}});var a=function(){var e=this,s=e._self._c;return s("div",{staticClass:"home-div"},[s("div",{staticClass:"home-form"},[s("h1",{staticClass:"home-name"},[e._v("网上书城")]),s("el-form",{ref:"formRef",attrs:{model:e.form}},[s("el-input",{staticClass:"input-bar",attrs:{placeholder:"用户名",clearable:"","prefix-icon":"el-icon-user"},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}}),s("el-input",{staticClass:"input-bar",attrs:{placeholder:"密码","show-password":"","prefix-icon":"el-icon-lock"},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}}),s("el-form-item",{attrs:{prop:"role"}},[s("el-select",{staticClass:"input-bar",attrs:{placeholder:"请选择角色"},model:{value:e.form.role,callback:function(s){e.$set(e.form,"role",s)},expression:"form.role"}},[s("el-option",{attrs:{label:"用户",value:"user"}}),s("el-option",{attrs:{label:"管理员",value:"admin"}}),s("el-option",{attrs:{label:"商家",value:"merchant"}})],1)],1),s("el-button",{staticClass:"home-btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),s("div",{staticClass:"home-jump"},[e._v(" 没有账号？"),s("a",{staticClass:"home-jump-a",attrs:{href:"/register"}},[e._v("注册")])])],1)],1)])},r=[],o=(t(9143),t(5067)),l={data(){return{form:{},username:"",password:"",role:""}},created(){},methods:{login(){this.form.username?this.form.password?o.A.post("account/login",this.form).then(e=>{if("0"===e.code){let s=e.data.user,t=e.data.token;localStorage.setItem("token",t),localStorage.setItem("userInfo",JSON.stringify(s)),this.$message.success("登录成功！"),"user"==s.role?location.href="/front/index":location.href="/manage/home"}else this.$message.error(e.msg)}):this.$message.warning("密码不能为空"):this.$message.warning("用户名不能为空")}}},n=l,i=t(1656),c=(0,i.A)(n,a,r,!1,null,"96cddc5e",null),m=c.exports}}]);
//# sourceMappingURL=559.63b4bc25.js.map