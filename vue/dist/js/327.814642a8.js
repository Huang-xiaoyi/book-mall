"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[327],{6327:function(s,e,r){r.r(e),r.d(e,{default:function(){return d}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"div-password"},[e("el-form",{ref:"formRef",staticClass:"form-input",attrs:{model:s.user,"label-width":"80px",rules:s.rules}},[e("el-form-item",{attrs:{label:"原密码",prop:"password"}},[e("el-input",{attrs:{placeholder:"原密码"},model:{value:s.user.password,callback:function(e){s.$set(s.user,"password",e)},expression:"user.password"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"newPassword"}},[e("el-input",{attrs:{placeholder:"新密码"},model:{value:s.user.newPassword,callback:function(e){s.$set(s.user,"newPassword",e)},expression:"user.newPassword"}})],1),e("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[e("el-input",{attrs:{placeholder:"确认密码"},model:{value:s.user.confirmPassword,callback:function(e){s.$set(s.user,"confirmPassword",e)},expression:"user.confirmPassword"}})],1),e("div",{staticClass:"password-btn"},[e("el-button",{attrs:{type:"primary"},on:{click:s.updatePassword}},[s._v("修改密码")])],1)],1)],1)},t=[],o=(r(4114),r(5067)),l={data(){const s=(s,e,r)=>{""===e?r(new Error("请确认密码")):e!==this.user.newPassword?r(new Error("确认密码错误")):r()};return{user:JSON.parse(localStorage.getItem("userInfo")||"{}"),dialogVisible:!1,rules:{password:[{required:!0,message:"请输入原始密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"}],confirmPassword:[{validator:s,required:!0,trigger:"blur"}]}}},created(){},methods:{updatePassword(){this.$refs.formRef.validate(s=>{s&&o.A.post("/account/updatePassword",this.user).then(s=>{"0"===s.code?(this.$message.success("修改密码成功,请重新登录"),this.$router.push("/login")):this.$message.error(s.msg)})})}}},u=l,i=r(1656),n=(0,i.A)(u,a,t,!1,null,null,null),d=n.exports}}]);
//# sourceMappingURL=327.814642a8.js.map